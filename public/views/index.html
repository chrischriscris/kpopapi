{{ block "index" . }}
<!doctype html>
<html>

<head>
    <title>The K-Pop API</title>
</head>

<!-- To play in the meantime. Replace later with installed Tailwind CSS -->
<script src="https://cdn.tailwindcss.com"></script>

<script src="https://unpkg.com/htmx.org@1.9.12"></script>

<style>
    * {
        font-family:
            JetBrains Mono,
            monospace;
        margin: 0;
        padding: 0;
        background-color: #f0f0f0;
    }
</style>

<body>
    <h1 class="p-8 text-4xl text-center text-gray-800 font-bold bg-red-100">
        Welcome to the K-Pop API!
    </h1>

    <div class="mx-auto py-8 text-center bg-green-100">
        <div class="h-96 mb-4 bg-green-100">{{ template "image" .Image }}</div>

        <button type="button" hx-get="/idols/random" hx-target="#image" hx-swap="outerHTML"
            class="mx-auto mt-8 px-4 py-2 text-white bg-red-500 rounded-lg shadow-lg hover:bg-red-700">
            Get another random image
        </button>
    </div>

    <div class="mx-auto py-8 text-center bg-green-100">
        <form hx-get="/idols" hx-target="#idols" hx-swap="innerHTML">
            <input type="search" name="name" placeholder="Search for a K-Pop idol"
                class="px-4 py-2 text-gray-800 bg-white rounded-lg shadow-lg" />
            <button type="submit" class="px-4 py-2 text-white bg-red-500 rounded-lg shadow-lg hover:bg-red-700">
                Search
            </button>
        </form>

        <div id="idols">{{ template "idols" .Idols }}</div>
    </div>
</body>

</html>
{{ end }} {{ block "image" . }}
<img id="image" src="{{.}}" class="mx-auto mt-8 h-96 w-auto rounded-3xl shadow-lg" alt="K-Pop Photo" />
{{ end }} {{ block "idols" . }} {{ if eq (len .) 0 }}
<p class="mt-8 text-gray-800 bg-blue-100">No idols found</p>
{{ else }}
<ul class="py-8 overflow-y-auto h-96">
    {{ range . }}
    <li class="text-gray-800">{{.StageName}}</li>
    {{ end }}
</ul>
{{ end }} {{ end }}
