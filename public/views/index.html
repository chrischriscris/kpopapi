{{ block "index" . }}
<!doctype html>
<html>
  <head>
    <title>The K-Pop API</title>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
      rel="stylesheet"
    />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400..900;1,400..900&display=swap"
      rel="stylesheet"
    />

    <!-- To play in the meantime. Replace later with installed Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <script src="https://unpkg.com/htmx.org@1.9.12"></script>

    <style>
      * {
        font-family: "Playfair Display", sans-serif;
        font-weight: 800;
        margin: 0;
        padding: 0;
      }

      ul {
        font-family: "Roboto", sans-serif;
        list-style-type: none;
      }
    </style>

    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="/static/icons/apple-touch-icon.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="/static/icons/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="/static/icons/favicon-16x16.png"
    />
    <link rel="manifest" href="/static/icons/site.webmanifest" />
  </head>

  <body>
    <nav>
      <div class="flex flex-wrap justify-between p-4 bg-black">
        <!-- Left side -->
        <a href="" class="flex items-center space-x-3 rtl:space-x-reverse">
          <img
            src="/static/icons/logo.png"
            class="h-10"
            alt="The K-Pop API Logo"
          />
        </a>

        <!-- Center -->
        <div
          class="flex items-center space-x-3 rtl:space-x-reverse bg-transparent select-none"
        >
          <span
            class="self-center text-4xl whitespace-nowrap text-white text-transparent bg-clip-text"
            >The K-Pop API</span
          >
        </div>

        <!-- Right side (mobile viewport) -->
        <button
          data-collapse-toggle="navbar-default"
          type="button"
          class="inline-flex items-center p-2 w-10 h-10 justify-center text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600"
          aria-controls="navbar-default"
          aria-expanded="false"
        >
          <span class="sr-only">Open main menu</span>
          <svg
            class="w-5 h-5"
            aria-hidden="true"
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 17 14"
          >
            <path
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M1 1h15M1 7h15M1 13h15"
            />
          </svg>
        </button>

        <!-- Right side (desktop viewport) -->
        <ul class="md:flex md:space-x-4 flex-wrap text-white">
          <li>
            <a href="#" class="block py-2 px-3 font-[Roboto] font-bold"
              >About</a
            >
          </li>
          <li>
            <a
              href="#"
              class="block py-2 px-3 font-[Roboto] font-bold"
              aria-current="page"
              >Home</a
            >
          </li>
        </ul>
      </div>
    </nav>

    <!-- Main content -->
    <main class="bg-teal-50">
      <div class="flex md:flex-col lg:flex-row">
        <!-- Left side -->
        <div class="flex-1 grow-[2]">
          <h1 class="pt-8 text-4xl text-center text-gray-800 underline">
            A daily dose of K-Pop visuals
          </h1>

          <p class="text-md text-center text-gray-800">
            Discover who's going to be your next bias
          </p>

          <p class="pb-8 text-md text-center text-gray-400">
            +{{ .NumberOfImages }} images ready to be discovered
          </p>
          <div id="idols">{{ template "idols" .Idols }}</div>
        </div>

        <!-- Right side -->
        <div class="flex-1 grow-[3]">
          <div class="mx-auto py-8 text-center">
            <div class="h-96">{{ template "image" .Image }}</div>

            <button
              type="button"
              hx-get="/idols/random"
              hx-target="#image"
              hx-swap="outerHTML"
              class="mx-auto mt-8 px-4 py-2 text-white bg-red-500 rounded-lg shadow-lg hover:bg-red-700"
            >
              Get another random image
            </button>
          </div>
        </div>
      </div>
    </main>
  </body>
</html>
{{ end }} {{ block "image" . }}
<img
  id="image"
  src="{{.}}"
  onerror="this.src='/static/missing-image.png'"
  class="mx-auto mt-8 h-96 w-auto rounded-3xl shadow-lg"
  alt="K-Pop Photo"
/>
{{ end }} {{ block "idols" . }}
<!-- Tabs -->
<div class="mx-8">
  <!-- The selected table will have bg-red-600  -->
  <button
    type="button"
    hx-get="/idols"
    hx-target="#idols"
    hx-swap="innerHTML"
    class="px-4 py-2 text-white bg-red-500 rounded-lg shadow-lg hover:bg-red-700 rounded-b-none"
  >
    Idols
  </button>
  <button
    type="button"
    hx-get="/groups"
    hx-target="#idols"
    hx-swap="innerHTML"
    class="px-4 py-2 text-white bg-red-500 rounded-lg shadow-lg hover:bg-red-700 rounded-b-none"
  >
    Groups
  </button>
</div>

<div class="mx-8 border-2 border-black rounded-lg text-xl rounded-tl-none">
  <div class="flex flex-col p-1 rounded-lg bg-white h-96">
    <form
      hx-get="/idols"
      hx-target="#idols"
      hx-swap="innerHTML"
      class="flex flex-row text-sm"
    >
      <input
        type="search"
        name="name"
        placeholder="Search for your favorite idol"
        class="px-4 py-2 text-gray-800 rounded-lg w-full rounded-r-none border border-black border-2 border-r-0 focus:outline-none"
      />
      <button
        type="submit"
        class="px-4 py-2 text-white bg-red-500 rounded-lg rounded-l-none shadow-lg hover:bg-red-600 border border-black border-2 border-l-0"
      >
        <svg
          width="15"
          height="15"
          viewBox="0 0 15 15"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          class="w-5 h-5"
        >
          <path
            d="M10 6.5C10 8.433 8.433 10 6.5 10C4.567 10 3 8.433 3 6.5C3 4.567 4.567 3 6.5 3C8.433 3 10 4.567 10 6.5ZM9.30884 10.0159C8.53901 10.6318 7.56251 11 6.5 11C4.01472 11 2 8.98528 2 6.5C2 4.01472 4.01472 2 6.5 2C8.98528 2 11 4.01472 11 6.5C11 7.56251 10.6318 8.53901 10.0159 9.30884L12.8536 12.1464C13.0488 12.3417 13.0488 12.6583 12.8536 12.8536C12.6583 13.0488 12.3417 13.0488 12.1464 12.8536L9.30884 10.0159Z"
            fill="currentColor"
            fill-rule="evenodd"
            clip-rule="evenodd"
          ></path>
        </svg>
      </button>
    </form>
    <div class="h-full bg-blue-100 mt-2 rounded overflow-y-auto">
      <ul class="px-4 py-2 text-2xl">
        {{ range . }}
        <li class="text-gray-800 py-2">{{.StageName}}</li>
        {{ else }}
        <li class="text-2xl text-teal-900 text-center">No idols found</li>
        {{ end }}
      </ul>
    </div>
  </div>
</div>
{{ end }}
